{"version":3,"sources":["../../src/pages/add-closing/add-closing.module.ts","../../src/pages/add-closing/add-closing.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddClosingPage } from './add-closing';\n\n@NgModule({\n  declarations: [\n    AddClosingPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddClosingPage),\n  ],\n  exports: [\n    AddClosingPage\n  ]\n})\nexport class AddClosingPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-closing/add-closing.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ViewController, NavParams, AlertController,\n  Events, NavController} from 'ionic-angular';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-add-closing',\n  templateUrl: 'add-closing.html',\n})\nexport class AddClosingPage {\n\n\n    closure:any;\n\n    // Whether or not we display an error message pertaining to input time\n    timeError: boolean;\n    enterError: boolean;\n    // String objects to capture time\n    startString: string;\n    endString: string;\n    // String in the navbar\n    navbar: string;\n\n    constructor(public viewCtrl: ViewController,\n                private params: NavParams,\n                public alertCtrl: AlertController,\n                public navCtrl: NavController,\n                public events: Events) {\n      this.closure = params.get('closure');\n      //this.timeError = true;\n      // if we are not editing a closure and are therefore creating a new one\n      if(!params.get('edit')){\n        this.closure = {\n          clStart: {},\n          clEnd: {},\n          reason: \"\",\n          baskets:0,\n          days: [0,0,0,0,0,0,0],\n          repeat: false\n        }\n        this.navbar = \"Add Closing\";\n      }\n      else {\n        this.closure = params.get('closure');\n\n        // ISO 8601 dates were giving me all kinds of trouble, so for now we will not have prepopulated dates on the add closure form.\n        // It isn't the biggest bullet to bite. We'll live.\n\n        //this.startString = new Date().toISOString();\n        //this.endString = this.closure.clEnd.toISOString();\n        this.navbar = \"Edit Closing\";\n      }\n\n    }\n\n    // Post: Alert presented which instructs user to add closure information\n    public instructions(){\n      this.alertCtrl.create({\n        title: \"So the court is closed..\",\n        message: \"Please share, if you can find it, information on this court closing\"\n        + \" with your fellow players.\",\n        buttons: [{\n          text: \"dismiss\",\n          role: 'cancel'\n        }]\n      }).present();\n    }\n\n    // Post1: Errors found with input data and error message is displayed\n    // Post2: Data is collected and sent to the server\n    submit(){\n\n      // reset the error messages\n      this.timeError = false; this.enterError = false;\n\n      // Check that we have a day entered\n      let dayEntered:boolean = false;\n      for(let day of this.closure.days)\n        if(day > 0){  dayEntered = true; break;  }\n\n      // check that all fields have values\n      if(this.startString == null || this.endString == null || this.closure.baskets === 0\n      || this.closure.reason === \"\" || !dayEntered){\n        this.enterError = true;\n        return;\n      }\n\n      // parse dateStrings to date objects\n      this.closure.clStart = new Date();\n      this.closure.clStart.setHours(+this.startString.substring(0,2));\n      this.closure.clStart.setMinutes(+this.startString.substring(3));\n      this.closure.clEnd = new Date();\n      this.closure.clEnd.setHours(+this.endString.substring(0,2));\n      this.closure.clEnd.setMinutes(+this.endString.substring(3));\n\n      // ensure that startTime is before endTime\n       if(this.closure.clStart.getTime() >= this.closure.clEnd.getTime()){\n         this.timeError = true;\n         return;\n       }\n\n       // If we got here we've got a valid closure - Dismiss with data\n       this.navCtrl.pop();\n       this.events.publish('newClosureData', {\n         closure: this.closure,\n         edit: this.params.get('edit')\n       })\n    }\n\n    // post: Either adds or subtracts from baskets, with restrictions\n    // param: string s - whether or not to add or subtract from baskets\n    // pre: s is either 'plus' or 'minus'\n    // restrictions: baskets cannot drop below 0\n    //    baskets cannot be greater than total baskets at the court\n    public baskets(s: string){\n      if(s === 'plus' && this.closure.baskets < this.params.get('courtBaskets'))\n        this.closure.baskets ++;\n      else if(s === 'minus' && this.closure.baskets > 0)\n        this.closure.baskets--;\n    }\n\n    // post: days is switched from a 0 to a 1 or vice versa\n    // param: day - the day to be toggled\n    public daytoggle(day: number){\n      if(this.closure.days[day] > 0) this.closure.days[day] = 0;\n      else this.closure.days[day] = 1;\n    }\n\n    getStyle(day){\n      if(this.closure.days[day] > 0)\n        return '#33ccff';\n    }\n\n    // Post: repeat changed from true to false or vice versa\n    public toggleRepeat(){\n      if(this.closure.repeat)  this.closure.repeat = false;\n      else this.closure.repeat = true;\n    }\n\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-closing/add-closing.ts"],"sourceRoot":""}